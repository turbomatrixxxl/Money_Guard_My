"use strict";(self.webpackChunkmoney_guard=self.webpackChunkmoney_guard||[]).push([[36],{7036:(e,a,t)=>{t.r(a),t.d(a,{default:()=>M});var s=t(5043),r=t(3003),i=t(1900);const n={dasboardContainer:"StatisticsDashboard_dasboardContainer__7A35V",dasboardInput:"StatisticsDashboard_dasboardInput__vDpT5"};var o=t(579);function l(){const e=(0,r.wA)(),[a,t]=(0,s.useState)((new Date).getFullYear()),[l,c]=(0,s.useState)((new Date).getMonth()+1),d=(new Date).getFullYear(),u=[d,d-1,d-2,d-3,d-4],b=(0,s.useRef)(),m=(0,s.useRef)();return(0,s.useEffect)((()=>{e((0,i.I)({month:l,year:a}))}),[e,l,a]),(0,o.jsxs)("div",{className:n.dasboardContainer,children:[(0,o.jsx)("select",{ref:b,className:n.dasboardInput,onChange:function(a){e((0,i.I)({month:b.current.value,year:m.current.value})),c(a.target.value)},value:l,name:"month",id:"month",children:[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}].map((e=>(0,o.jsx)("option",{value:e.value,label:e.label},e.value)))}),(0,o.jsx)("select",{ref:m,className:n.dasboardInput,onChange:function(a){e((0,i.I)({month:b.current.value,year:m.current.value})),t(a.currentTarget.value)},value:a,name:"year",id:"year",children:u.map((e=>(0,o.jsx)("option",{value:e,children:e},e)))})]})}var c=t(108),d=t(9282),u=t(6150),b=t(5820),m=t(7869);t(7915),t(9867);const h=e=>e.statisticsSlice.error,v=e=>e.statisticsSlice.isLoading,C=e=>e.statisticsSlice.transactions,_=e=>e.statisticsSlice.transactionItems,f=()=>({statisticsLoading:(0,r.d4)(v),statisticsError:(0,r.d4)(h),statisticsTransactions:(0,r.d4)(C),statisticsTransactionItems:(0,r.d4)(_)}),x={chartContainer:"Chart_chartContainer__ECRW6",chartBalance:"Chart_chartBalance__T7QoL",chart:"Chart_chart__1KjEz",tooltipContainer:"Chart_tooltipContainer__-AdAl",tooltipNameContainer:"Chart_tooltipNameContainer__ybke0",tooltipSumContainer:"Chart_tooltipSumContainer__kGjFn"};var p=t(8387);function g(){const{statisticsTransactions:e}=f(),a=null===e||void 0===e?void 0:e.categoriesSummary,t=null===a||void 0===a?void 0:a.filter((e=>"INCOME"!==e.type));function s(e){return null===t||void 0===t?void 0:t.find((a=>e===a.name))}const r=s("Main expenses"),i=r?Math.abs(null===r||void 0===r?void 0:r.total):0,n=s("Products"),l=n?Math.abs(null===n||void 0===n?void 0:n.total):0,h=s("Car"),v=h?Math.abs(null===h||void 0===h?void 0:h.total):0,C=s("Self care"),_=C?Math.abs(null===C||void 0===C?void 0:C.total):0,g=s("Child care"),N=g?Math.abs(null===g||void 0===g?void 0:g.total):0,T=s("Household products"),j=T?Math.abs(null===T||void 0===T?void 0:T.total):0,I=s("Education"),S=I?Math.abs(null===I||void 0===I?void 0:I.total):0,y=s("Leisure"),M=y?Math.abs(null===y||void 0===y?void 0:y.total):0,k=s("Other expenses"),O=k?Math.abs(null===k||void 0===k?void 0:k.total):0,E=s("Entertainment"),A=E?Math.abs(null===E||void 0===E?void 0:E.total):0,D=[i>0&&{name:"Main expenses",value:i,backgroundColor:"rgba(254, 208, 87, 1)",borderWidth:0,hoverOffset:5},l>0&&{name:"Products",value:l,backgroundColor:"rgba(255, 0, 255, 1)",borderWidth:0,hoverOffset:5},v>0&&{name:"Car",value:v,backgroundColor:"rgba(253, 148, 152, 1)",borderWidth:0,hoverOffset:5},_>0&&{name:"Self care",value:_,backgroundColor:"rgba(197, 186, 255, 1)",borderWidth:0,hoverOffset:5},N>0&&{name:"Child care",value:N,backgroundColor:"rgba(127, 255, 0, 1)",borderWidth:0,hoverOffset:5},j>0&&{name:"Household products",value:j,backgroundColor:"rgba(74, 86, 226, 1)",borderWidth:0,hoverOffset:5},S>0&&{name:"Education",value:S,backgroundColor:"rgba(0, 255, 255, 1)",borderWidth:0,hoverOffset:5},M>0&&{name:"Leisure",value:M,backgroundColor:"rgba(255, 119, 0, 1)",borderWidth:0,hoverOffset:5},O>0&&{name:"Other expenses",value:O,backgroundColor:"rgba(0, 173, 132, 1)",borderWidth:0,hoverOffset:5},A>0&&{name:"Entertainment",value:A,backgroundColor:"rgba(177, 15, 72, 1)",borderWidth:0,hoverOffset:5},{name:"There are no expenses for this period !",value:1e-10,backgroundColor:"rgba(255, 255, 255, 0.6)",borderWidth:0,hoverOffset:5}],F=D.sort(((e,a)=>Number(e.value)-Number(a.value)));return(0,o.jsxs)("div",{className:x.chartContainer,children:[(0,o.jsx)(c.u,{width:"100%",height:"100%",children:(0,o.jsxs)(d.r,{fill:"rgba(255, 255, 255, 0.6)",children:[(0,o.jsx)(u.m,{cursor:{cursor:"pointer"},content:e=>{let{active:a,payload:t}=e;return a&&t&&t.length?(0,o.jsxs)("div",{className:x.tooltipContainer,children:[(0,o.jsx)("p",{className:x.tooltipNameContainer,children:`${t[0].name}`}),(0,o.jsxs)("div",{className:x.tooltipSumContainer,children:[(0,o.jsx)("div",{style:{background:`${t[0].payload.fill}`}}),(0,o.jsx)("span",{children:Number(t[0].value).toFixed(2)})]})]}):null}}),(0,o.jsx)(b.F,{startOffset:0,className:x.chart,data:F,dataKey:"value",outerRadius:135,innerRadius:95,fill:"rgba(255, 255, 255, 0.6)",children:D.map(((e,a)=>(0,o.jsx)(m.f,{fill:e.backgroundColor},a)))})]})}),(0,o.jsxs)("p",{className:(0,p.A)(x.chartBalance,"animate__animated  animate__zoomIn animate__slow"),children:[(0,o.jsx)("span",{children:"\u20b4"}),null!==e&&void 0!==e&&e.periodTotal?Number(e.periodTotal).toFixed(2):Number(0).toFixed(2)]})]})}const N={tableContainer:"StatisticsTable_tableContainer__8QYJZ",tableTitleContainer:"StatisticsTable_tableTitleContainer__er18t",tableItemsContainer:"StatisticsTable_tableItemsContainer__dsi14",tableItemsNoTransactionsContainer:"StatisticsTable_tableItemsNoTransactionsContainer__ItahO",tableTotalsContainer:"StatisticsTable_tableTotalsContainer__8M3pa",tableTotalsItemsContainer:"StatisticsTable_tableTotalsItemsContainer__71ndA",tableTotalsItemsExpense:"StatisticsTable_tableTotalsItemsExpense__nhD95",tableTotalsItemsIncome:"StatisticsTable_tableTotalsItemsIncome__NMrzq"},T={itemContainer:"StatisticsItem_itemContainer__jXmvo",itemLeftContainer:"StatisticsItem_itemLeftContainer__eND64",itemLeftContainerCube:"StatisticsItem_itemLeftContainerCube__1bCPf",itemRigtContainer:"StatisticsItem_itemRigtContainer__Z3F9q"},j=e=>{switch(e){case"Main expenses":return"rgba(254, 208, 87, 1)";case"Products":return"rgba(255, 0, 255, 1)";case"Car":return"rgba(253, 148, 152, 1)";case"Self care":return"rgba(197, 186, 255, 1)";case"Child care":return"rgba(127, 255, 0, 1)";case"Household products":return"rgba(74, 86, 226, 1)";case"Education":return"rgba(0, 255, 255, 1)";case"Leisure":return"rgba(255, 119, 0, 1)";case"Other expenses":return"rgba(0, 173, 132, 1)";case"Entertainment":return"rgba(177, 15, 72, 1)";default:return"rgb(128, 128, 128)"}};function I(e){let{variant:a,sum:t}=e;return(0,o.jsxs)("div",{className:T.itemContainer,children:[(0,o.jsxs)("div",{className:T.itemLeftContainer,children:[(0,o.jsx)("div",{style:{backgroundColor:j(a)},className:T.itemLeftContainerCube}),(0,o.jsx)("p",{className:T.itemLeftContainerName,children:a})]}),(0,o.jsx)("div",{className:T.itemRigtContainerSum,children:t})]})}function S(){var e;const{statisticsTransactions:a}=f(),t=null===a||void 0===a?void 0:a.expenseSummary,s=null===a||void 0===a?void 0:a.incomeSummary,r=null===a||void 0===a||null===(e=a.categoriesSummary)||void 0===e?void 0:e.length,i=null===a||void 0===a?void 0:a.categoriesSummary,n=null===i||void 0===i?void 0:i.filter((e=>"INCOME"!==e.type)),l=null===n||void 0===n?void 0:n.sort(((e,a)=>Number(e.total)-Number(a.total)));return(0,o.jsxs)("div",{className:N.tableContainer,children:[(0,o.jsxs)("div",{className:N.tableTitleContainer,children:[(0,o.jsx)("span",{children:"Category"}),(0,o.jsx)("span",{children:"Sum"})]}),(0,o.jsxs)("div",{className:N.tableItemsContainer,children:[0===r&&(0,o.jsx)("p",{className:N.tableItemsNoTransactionsContainer,children:"You don't have any transactions for this period...!"}),r>0&&l.map((e=>(0,o.jsx)(I,{variant:e.name,sum:Math.abs(e.total).toFixed(2)},e.name)))]}),(0,o.jsxs)("div",{className:N.tableTotalsContainer,children:[(0,o.jsxs)("div",{className:N.tableTotalsItemsContainer,children:[(0,o.jsx)("p",{children:"Expenses:"}),(0,o.jsx)("p",{className:N.tableTotalsItemsExpense,children:t?Number(t).toFixed(2):Number(0).toFixed(2)})]}),(0,o.jsxs)("div",{className:N.tableTotalsItemsContainer,children:[(0,o.jsx)("p",{children:"Income:"}),(0,o.jsx)("p",{className:N.tableTotalsItemsIncome,children:s?Number(s).toFixed(2):Number(0).toFixed(2)})]})]})]})}const y={statisticsContainer:"StatisticsTab_statisticsContainer__6QXrM",statisticsTitleAndChartContainer:"StatisticsTab_statisticsTitleAndChartContainer__fbD3+",statisticsTitle:"StatisticsTab_statisticsTitle__DnYIc",statisticsDashboardAndTableContainer:"StatisticsTab_statisticsDashboardAndTableContainer__AINzV"};function M(){return(0,o.jsxs)("div",{className:y.statisticsContainer,children:[(0,o.jsxs)("div",{className:y.statisticsTitleAndChartContainer,children:[(0,o.jsx)("h1",{className:y.statisticsTitle,children:"Statistics"}),(0,o.jsx)(g,{})]}),(0,o.jsxs)("div",{className:y.statisticsDashboardAndTableContainer,children:[(0,o.jsx)(l,{}),(0,o.jsx)(S,{})]})]})}}}]);
//# sourceMappingURL=36.6b582b3a.chunk.js.map